<ui:composition
        template="/template.xhtml"
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:f="http://java.sun.com/jsf/core">
    <ui:define name="content">
        <!--@elvariable id="msg" type="java.util.Map"-->
        <div class="profile_nav">
            <h:link
                    styleClass="profile_nav_element"
                    outcome="profile"
                    value="#{msg['profile.page_title']}"/>
            <h:link
                    styleClass="profile_nav_element"
                    outcome="wishlist"
                    value="#{msg['wishlist.page_title']}"/>
            <h:link
                    styleClass="profile_nav_element active"
                    outcome="order_overview"
                    value="#{msg['order_overview.page_title']}"/>
        </div>

        <div class="page-content">
            <!--@elvariable id="msg" type="java.util.Map"-->
            <h1 id="order_overview-title">
                <h:outputText value="#{msg['order_overview.page_title']}"/>
            </h1>

            <h:form>
                <h:dataTable
                        value="#{orderController.getOrdersByCustomer(loginController.customer)}"
                        var="order"
                        styleClass="order-list">
                    <h:column>
                                    <h:outputText value="#{order.orderedAt}"/>
                                    <h:outputText value="#{order.isPaid? msg['paid'] : msg['unpaid']}"/>
                                    <h:outputText value="#{order.orderStatus}"/>
                            <h:dataTable
                                value="#{order.products}"
                                var="product">
                                <h:column>
                                    <h:outputText value="#{product.name}"/>
                                    <h:outputText value="#{product.price}"/>
                                </h:column>
                            </h:dataTable>
                    </h:column>
                </h:dataTable>
            </h:form>
        </div>

    </ui:define>
</ui:composition>